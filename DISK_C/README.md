**仿 windows 资源管理器**

# 文件夹框架

- `build` 编译文件
- `devel` 运行产生的临时文件
  - `*.SWP` 临时文件
  - `.PRJ` 工程文件
  - `.DSK` 磁盘映像文件
- `demo` 测试功能的文件夹
- `src` 源代码，包括
  - `include` 头文件
  - `src` 源文件
  - `config` 配置文件，放置汉字点阵文件
  - `Images`贴图文件

# 需求分析

- 实现 windows 资源管理器的主要功能
- 文件夹和文件的新建、重命名、复制、剪切、粘贴、移动、删除（bc 不能联网，分享就不做了）
- 用户可以查看文件（夹）的修改日期、类型、大小
- 可以排序、搜索文件（夹）

# 功能分析（括号内为 DLC，没时间就不做）

- 1、登陆
- 2、文件操作（支持快捷键、鼠标框选）
- 3、文件属性查看
- 4、文件排序
- 5、搜索
- （6、预览）

# 程序功能介绍

## 目录树构建

- 从 C 盘开始，逐个文件，如果是文件夹，那么将他添加到目录树，并进入构建子目录
- 递归构建

## 初始化

## 主循环

### 撤销目录操作检测

- 历史位置`now_history`向后移动，进入这条历史

### 反撤销目录操作检测

- 历史位置`now_history`向前移动，进入这条历史

### 返回上级目录检测

- 通过字符串处理得到上级
- 进入上级

### 刷新检测

- 更新当前目录位置
- 读取、排序
- 显示

### 键入路径检测

- 读取并显示输入内容
- 按下回车进入

### 功能区检测

- 根据按下的按钮出触发对应的功能
  - 新建
  - 剪切
  - 复制
  - 粘贴
  - 重命名
  - 删除
  - 排序方式
  - 查看（图标大小）

### 文件夹点击检测

- 点击一次 选中
- 双击 进入
- 点击无效区域 全不选

### 翻页检测

- 翻页

### 左栏目录树点击检测

- 点击条目左边的`>` 展开/折叠
- 点击条目 进入文件夹

### 最近打开点击检测

- 进入最近打开的某个文件夹

### 退出检测

- 退出程序，播放动画

### 搜索检测

- 读取并显示输入内容
- 按下回车开始搜索
- 显示搜索结果

### 右键

- 排序方式
- 撤销
- 新建
- 属性

### 搜索模式与一般模式切换判别

- 模式切换时更新搜索栏
